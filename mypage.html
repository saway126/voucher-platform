<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆì´í˜ì´ì§€ - ê¸°ëŒ€í”ŒëŸ¬ìŠ¤</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‘¤</text></svg>">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-text">ê¸°ëŒ€í”ŒëŸ¬ìŠ¤</div>
                </div>
                
                <!-- í–„ë²„ê±° ë©”ë‰´ ë²„íŠ¼ (ëª¨ë°”ì¼) -->
                <button class="hamburger" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <!-- ë°ìŠ¤í¬í†± ë„¤ë¹„ê²Œì´ì…˜ -->
                <nav class="nav desktop-nav">
                    <ul>
                        <li><a href="/">í™ˆ</a></li>
                        <li><a href="/programs">ë°”ìš°ì²˜ ì‚¬ì—…</a></li>
                        <li><a href="/apply">ë°”ìš°ì²˜ ì‹ ì²­</a></li>
                        <li><a href="/mypage" class="active">ë§ˆì´í˜ì´ì§€</a></li>
                        <li><a href="/support">ê³ ê°ì§€ì›</a></li>
                    </ul>
                </nav>
                
                <!-- ë°ìŠ¤í¬í†± ì‚¬ìš©ì ë©”ë‰´ -->
                <div class="user-menu desktop-user-menu">
                    <button class="btn-login" onclick="showLoginModal()">ë¡œê·¸ì¸</button>
                    <button class="btn-register" onclick="showRegisterModal()">íšŒì›ê°€ì…</button>
                    <button class="btn-demo" onclick="demoLogin()">ê°„í¸ ë¡œê·¸ì¸</button>
                    <button class="btn-admin" onclick="showAdminPanel()" style="display: none;">ê´€ë¦¬ì</button>
                </div>
            </div>
            
            <!-- ëª¨ë°”ì¼ ë©”ë‰´ -->
            <div class="mobile-menu" id="mobileMenu">
                <nav class="mobile-nav">
                    <ul>
                        <li><a href="/" onclick="closeMobileMenu()">í™ˆ</a></li>
                        <li><a href="/programs" onclick="closeMobileMenu()">ë°”ìš°ì²˜ ì‚¬ì—…</a></li>
                        <li><a href="/apply" onclick="closeMobileMenu()">ë°”ìš°ì²˜ ì‹ ì²­</a></li>
                        <li><a href="/mypage" onclick="closeMobileMenu()" class="active">ë§ˆì´í˜ì´ì§€</a></li>
                        <li><a href="/support" onclick="closeMobileMenu()">ê³ ê°ì§€ì›</a></li>
                    </ul>
                </nav>
                <div class="mobile-user-menu">
                    <button class="btn-login" onclick="showLoginModal(); closeMobileMenu();">ë¡œê·¸ì¸</button>
                    <button class="btn-register" onclick="showRegisterModal(); closeMobileMenu();">íšŒì›ê°€ì…</button>
                    <button class="btn-demo" onclick="demoLogin(); closeMobileMenu();">ê°„í¸ ë¡œê·¸ì¸</button>
                    <button class="btn-admin" onclick="showAdminPanel(); closeMobileMenu();" style="display: none;">ê´€ë¦¬ì</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- ë§ˆì´í˜ì´ì§€ ì„¹ì…˜ -->
        <section class="mypage-section">
            <div class="container">
                <div class="breadcrumb">
                    <a href="/">í™ˆ</a> > <span>ë§ˆì´í˜ì´ì§€</span>
                </div>
                
                <div class="mypage-content">
                    <div class="mypage-header">
                        <div class="user-profile">
                            <div class="profile-avatar">
                                <img src="https://via.placeholder.com/80x80/2E7D32/ffffff?text=ğŸ‘¤" alt="í”„ë¡œí•„ ì´ë¯¸ì§€">
                            </div>
                            <div class="profile-info">
                                <h1 id="userName">ì‚¬ìš©ìë‹˜</h1>
                                <p id="userEmail">user@example.com</p>
                                <div class="profile-stats">
                                    <span class="stat-item">
                                        <strong id="totalApplications">0</strong> ì‹ ì²­
                                    </span>
                                    <span class="stat-item">
                                        <strong id="activeVouchers">0</strong> í™œì„± ë°”ìš°ì²˜
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="profile-actions">
                            <button class="btn-secondary" onclick="editProfile()">í”„ë¡œí•„ ìˆ˜ì •</button>
                            <button class="btn-primary" onclick="goToApply()">ìƒˆë¡œ ì‹ ì²­í•˜ê¸°</button>
                        </div>
                    </div>
                    
                    <div class="mypage-tabs">
                        <button class="tab-btn active" onclick="showTab('my-vouchers')">ë‚´ ë°”ìš°ì²˜</button>
                        <button class="tab-btn" onclick="showTab('applications')">ì‹ ì²­ ë‚´ì—­</button>
                        <button class="tab-btn" onclick="showTab('usage-history')">ì‚¬ìš© ë‚´ì—­</button>
                        <button class="tab-btn" onclick="showTab('notifications')">ì•Œë¦¼</button>
                        <button class="tab-btn" onclick="showTab('settings')">ì„¤ì •</button>
                    </div>
                    
                    <!-- ë‚´ ë°”ìš°ì²˜ íƒ­ -->
                    <div class="tab-content active" id="my-vouchers-content">
                        <div class="vouchers-overview">
                            <div class="overview-card">
                                <h3>í™œì„± ë°”ìš°ì²˜</h3>
                                <div class="voucher-count" id="activeVoucherCount">0</div>
                                <p>í˜„ì¬ ì‚¬ìš© ê°€ëŠ¥í•œ ë°”ìš°ì²˜</p>
                            </div>
                            <div class="overview-card">
                                <h3>ì‚¬ìš© ì™„ë£Œ</h3>
                                <div class="voucher-count" id="usedVoucherCount">0</div>
                                <p>ì´ë¯¸ ì‚¬ìš©í•œ ë°”ìš°ì²˜</p>
                            </div>
                            <div class="overview-card">
                                <h3>ë§Œë£Œ ì˜ˆì •</h3>
                                <div class="voucher-count" id="expiringVoucherCount">0</div>
                                <p>7ì¼ ë‚´ ë§Œë£Œ ì˜ˆì •</p>
                            </div>
                        </div>
                        
                        <div class="vouchers-list">
                            <h3>ë‚´ ë°”ìš°ì²˜ ëª©ë¡</h3>
                            <div class="vouchers-grid" id="vouchersGrid">
                                <!-- ë°”ìš°ì²˜ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì‹ ì²­ ë‚´ì—­ íƒ­ -->
                    <div class="tab-content" id="applications-content">
                        <div class="applications-header">
                            <h3>ì‹ ì²­ ë‚´ì—­</h3>
                            <div class="filter-options">
                                <select id="applicationStatusFilter" onchange="filterApplications()">
                                    <option value="">ì „ì²´ ìƒíƒœ</option>
                                    <option value="pending">ì‹¬ì‚¬ì¤‘</option>
                                    <option value="approved">ìŠ¹ì¸</option>
                                    <option value="rejected">ê±°ì ˆ</option>
                                    <option value="completed">ì™„ë£Œ</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="applications-list" id="applicationsList">
                            <!-- ì‹ ì²­ ë‚´ì—­ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <!-- ì‚¬ìš© ë‚´ì—­ íƒ­ -->
                    <div class="tab-content" id="usage-history-content">
                        <div class="usage-header">
                            <h3>ì‚¬ìš© ë‚´ì—­</h3>
                            <div class="date-filter">
                                <input type="date" id="startDate" onchange="filterUsageHistory()">
                                <span>~</span>
                                <input type="date" id="endDate" onchange="filterUsageHistory()">
                            </div>
                        </div>
                        
                        <div class="usage-summary">
                            <div class="summary-card">
                                <h4>ì´ ì‚¬ìš© ê¸ˆì•¡</h4>
                                <div class="amount" id="totalUsedAmount">0ì›</div>
                            </div>
                            <div class="summary-card">
                                <h4>ì´ë²ˆ ë‹¬ ì‚¬ìš©</h4>
                                <div class="amount" id="monthlyUsedAmount">0ì›</div>
                            </div>
                        </div>
                        
                        <div class="usage-list" id="usageList">
                            <!-- ì‚¬ìš© ë‚´ì—­ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <!-- ì•Œë¦¼ íƒ­ -->
                    <div class="tab-content" id="notifications-content">
                        <div class="notifications-header">
                            <h3>ì•Œë¦¼</h3>
                            <button class="btn-secondary" onclick="markAllAsRead()">ëª¨ë‘ ì½ìŒ</button>
                        </div>
                        
                        <div class="notifications-list" id="notificationsList">
                            <!-- ì•Œë¦¼ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <!-- ì„¤ì • íƒ­ -->
                    <div class="tab-content" id="settings-content">
                        <div class="settings-sections">
                            <div class="settings-section">
                                <h3>ê³„ì • ì„¤ì •</h3>
                                <div class="setting-item">
                                    <label for="userNameInput">ì´ë¦„</label>
                                    <input type="text" id="userNameInput" value="">
                                </div>
                                <div class="setting-item">
                                    <label for="userEmailInput">ì´ë©”ì¼</label>
                                    <input type="email" id="userEmailInput" value="">
                                </div>
                                <div class="setting-item">
                                    <label for="userPhoneInput">íœ´ëŒ€í° ë²ˆí˜¸</label>
                                    <input type="tel" id="userPhoneInput" value="">
                                </div>
                                <button class="btn-primary" onclick="updateProfile()">ì •ë³´ ìˆ˜ì •</button>
                            </div>
                            
                            <div class="settings-section">
                                <h3>ì•Œë¦¼ ì„¤ì •</h3>
                                <div class="setting-item">
                                    <label>
                                        <input type="checkbox" id="emailNotifications" checked>
                                        ì´ë©”ì¼ ì•Œë¦¼ ë°›ê¸°
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <label>
                                        <input type="checkbox" id="smsNotifications">
                                        SMS ì•Œë¦¼ ë°›ê¸°
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <label>
                                        <input type="checkbox" id="marketingNotifications">
                                        ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹ 
                                    </label>
                                </div>
                                <button class="btn-primary" onclick="updateNotificationSettings()">ì„¤ì • ì €ì¥</button>
                            </div>
                            
                            <div class="settings-section">
                                <h3>ë³´ì•ˆ</h3>
                                <button class="btn-secondary" onclick="changePassword()">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
                                <button class="btn-secondary" onclick="deleteAccount()">ê³„ì • ì‚­ì œ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ê¸°ëŒ€í”ŒëŸ¬ìŠ¤</h3>
                    <p>ë°”ìš°ì²˜ í”Œë«í¼ìœ¼ë¡œ ë” ë‚˜ì€ ë¯¸ë˜ë¥¼ ë§Œë“¤ì–´ê°‘ë‹ˆë‹¤.</p>
                </div>
                <div class="footer-section">
                    <h4>ë°”ìš°ì²˜ ì‚¬ì—…</h4>
                    <ul>
                        <li><a href="/programs">ì „ì²´ ì‚¬ì—…</a></li>
                        <li><a href="/programs?category=education">êµìœ¡ ë¶„ì•¼</a></li>
                        <li><a href="/programs?category=healthcare">ì˜ë£Œ ë¶„ì•¼</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ê³ ê°ì§€ì›</h4>
                    <ul>
                        <li><a href="/support">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</a></li>
                        <li><a href="/support/contact">ë¬¸ì˜í•˜ê¸°</a></li>
                        <li><a href="/support/guide">ì´ìš© ê°€ì´ë“œ</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ê¸°ëŒ€í”ŒëŸ¬ìŠ¤. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="api-client.js"></script>
    <script src="script.js"></script>
    <script src="enhanced-features.js"></script>
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
            loadUserData();
            loadVouchers();
            loadApplications();
            loadUsageHistory();
            loadNotifications();
        });

        // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
        function checkLoginStatus() {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                window.location.href = '/';
                return;
            }
        }

        // ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ
        function loadUserData() {
            try {
                const currentUser = localStorage.getItem('currentUser');
                if (currentUser) {
                    const user = JSON.parse(currentUser);
                    document.getElementById('userName').textContent = user.name + 'ë‹˜';
                    document.getElementById('userEmail').textContent = user.email;
                    
                    // ì„¤ì • íƒ­ì˜ ì…ë ¥ í•„ë“œì—ë„ ê°’ ì„¤ì •
                    document.getElementById('userNameInput').value = user.name || '';
                    document.getElementById('userEmailInput').value = user.email || '';
                    document.getElementById('userPhoneInput').value = user.phone || '';
                }
            } catch (error) {
                console.error('ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ë°”ìš°ì²˜ ë°ì´í„° ë¡œë“œ
        function loadVouchers() {
            // ë”ë¯¸ ë°”ìš°ì²˜ ë°ì´í„°
            const dummyVouchers = [
                {
                    id: 1,
                    programName: 'ë””ì§€í„¸ ìŠ¤í‚¬ ì—…ê·¸ë ˆì´ë“œ ë°”ìš°ì²˜',
                    amount: 100000,
                    usedAmount: 0,
                    status: 'active',
                    expiryDate: '2024-12-31',
                    issueDate: '2024-01-15'
                },
                {
                    id: 2,
                    programName: 'ê±´ê°•ê´€ë¦¬ ë°”ìš°ì²˜',
                    amount: 50000,
                    usedAmount: 30000,
                    status: 'active',
                    expiryDate: '2024-11-30',
                    issueDate: '2024-02-01'
                },
                {
                    id: 3,
                    programName: 'ì°½ì—… ì§€ì› ë°”ìš°ì²˜',
                    amount: 200000,
                    usedAmount: 200000,
                    status: 'used',
                    expiryDate: '2024-10-15',
                    issueDate: '2024-01-01'
                }
            ];
            
            displayVouchers(dummyVouchers);
            updateVoucherStats(dummyVouchers);
        }

        // ë°”ìš°ì²˜ ëª©ë¡ í‘œì‹œ
        function displayVouchers(vouchers) {
            const grid = document.getElementById('vouchersGrid');
            grid.innerHTML = vouchers.map(voucher => `
                <div class="voucher-card ${voucher.status}">
                    <div class="voucher-header">
                        <h4>${voucher.programName}</h4>
                        <span class="voucher-status ${voucher.status}">${getVoucherStatusName(voucher.status)}</span>
                    </div>
                    <div class="voucher-amount">
                        <span class="total-amount">${voucher.amount.toLocaleString()}ì›</span>
                        <span class="used-amount">ì‚¬ìš©: ${voucher.usedAmount.toLocaleString()}ì›</span>
                    </div>
                    <div class="voucher-dates">
                        <p>ë°œê¸‰ì¼: ${voucher.issueDate}</p>
                        <p>ë§Œë£Œì¼: ${voucher.expiryDate}</p>
                    </div>
                    <div class="voucher-actions">
                        ${voucher.status === 'active' ? 
                            `<button class="btn-primary" onclick="useVoucher(${voucher.id})">ì‚¬ìš©í•˜ê¸°</button>` : 
                            `<button class="btn-secondary" disabled>ì‚¬ìš© ì™„ë£Œ</button>`
                        }
                    </div>
                </div>
            `).join('');
        }

        // ë°”ìš°ì²˜ ìƒíƒœëª… ë³€í™˜
        function getVoucherStatusName(status) {
            const statuses = {
                'active': 'ì‚¬ìš© ê°€ëŠ¥',
                'used': 'ì‚¬ìš© ì™„ë£Œ',
                'expired': 'ë§Œë£Œ'
            };
            return statuses[status] || status;
        }

        // ë°”ìš°ì²˜ í†µê³„ ì—…ë°ì´íŠ¸
        function updateVoucherStats(vouchers) {
            const activeCount = vouchers.filter(v => v.status === 'active').length;
            const usedCount = vouchers.filter(v => v.status === 'used').length;
            const expiringCount = vouchers.filter(v => {
                const expiryDate = new Date(v.expiryDate);
                const today = new Date();
                const diffTime = expiryDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                return diffDays <= 7 && diffDays > 0;
            }).length;
            
            document.getElementById('activeVoucherCount').textContent = activeCount;
            document.getElementById('usedVoucherCount').textContent = usedCount;
            document.getElementById('expiringVoucherCount').textContent = expiringCount;
            document.getElementById('activeVouchers').textContent = activeCount;
        }

        // ì‹ ì²­ ë‚´ì—­ ë¡œë“œ
        function loadApplications() {
            const dummyApplications = [
                {
                    id: 1,
                    programName: 'ë””ì§€í„¸ ìŠ¤í‚¬ ì—…ê·¸ë ˆì´ë“œ ë°”ìš°ì²˜',
                    applicationDate: '2024-01-10',
                    status: 'approved',
                    amount: 100000
                },
                {
                    id: 2,
                    programName: 'ê±´ê°•ê´€ë¦¬ ë°”ìš°ì²˜',
                    applicationDate: '2024-01-25',
                    status: 'approved',
                    amount: 50000
                },
                {
                    id: 3,
                    programName: 'ì°½ì—… ì§€ì› ë°”ìš°ì²˜',
                    applicationDate: '2023-12-15',
                    status: 'completed',
                    amount: 200000
                },
                {
                    id: 4,
                    programName: 'ê¸°ìˆ  êµìœ¡ ë°”ìš°ì²˜',
                    applicationDate: '2024-02-01',
                    status: 'pending',
                    amount: 150000
                }
            ];
            
            displayApplications(dummyApplications);
            document.getElementById('totalApplications').textContent = dummyApplications.length;
        }

        // ì‹ ì²­ ë‚´ì—­ í‘œì‹œ
        function displayApplications(applications) {
            const list = document.getElementById('applicationsList');
            list.innerHTML = applications.map(app => `
                <div class="application-item">
                    <div class="application-info">
                        <h4>${app.programName}</h4>
                        <p>ì‹ ì²­ì¼: ${app.applicationDate}</p>
                        <p>ì§€ì› ê¸ˆì•¡: ${app.amount.toLocaleString()}ì›</p>
                    </div>
                    <div class="application-status">
                        <span class="status-badge ${app.status}">${getApplicationStatusName(app.status)}</span>
                    </div>
                </div>
            `).join('');
        }

        // ì‹ ì²­ ìƒíƒœëª… ë³€í™˜
        function getApplicationStatusName(status) {
            const statuses = {
                'pending': 'ì‹¬ì‚¬ì¤‘',
                'approved': 'ìŠ¹ì¸',
                'rejected': 'ê±°ì ˆ',
                'completed': 'ì™„ë£Œ'
            };
            return statuses[status] || status;
        }

        // ì‚¬ìš© ë‚´ì—­ ë¡œë“œ
        function loadUsageHistory() {
            const dummyUsage = [
                {
                    id: 1,
                    voucherName: 'ì°½ì—… ì§€ì› ë°”ìš°ì²˜',
                    amount: 200000,
                    usageDate: '2024-01-15',
                    description: 'ì°½ì—… êµìœ¡ ê³¼ì • ìˆ˜ê°•ë£Œ'
                },
                {
                    id: 2,
                    voucherName: 'ê±´ê°•ê´€ë¦¬ ë°”ìš°ì²˜',
                    amount: 30000,
                    usageDate: '2024-02-10',
                    description: 'ê±´ê°•ê²€ì§„ ë¹„ìš©'
                }
            ];
            
            displayUsageHistory(dummyUsage);
            updateUsageStats(dummyUsage);
        }

        // ì‚¬ìš© ë‚´ì—­ í‘œì‹œ
        function displayUsageHistory(usageHistory) {
            const list = document.getElementById('usageList');
            list.innerHTML = usageHistory.map(usage => `
                <div class="usage-item">
                    <div class="usage-info">
                        <h4>${usage.voucherName}</h4>
                        <p>${usage.description}</p>
                        <p>ì‚¬ìš©ì¼: ${usage.usageDate}</p>
                    </div>
                    <div class="usage-amount">
                        -${usage.amount.toLocaleString()}ì›
                    </div>
                </div>
            `).join('');
        }

        // ì‚¬ìš© í†µê³„ ì—…ë°ì´íŠ¸
        function updateUsageStats(usageHistory) {
            const totalUsed = usageHistory.reduce((sum, usage) => sum + usage.amount, 0);
            const thisMonth = usageHistory.filter(usage => {
                const usageDate = new Date(usage.usageDate);
                const now = new Date();
                return usageDate.getMonth() === now.getMonth() && usageDate.getFullYear() === now.getFullYear();
            }).reduce((sum, usage) => sum + usage.amount, 0);
            
            document.getElementById('totalUsedAmount').textContent = totalUsed.toLocaleString() + 'ì›';
            document.getElementById('monthlyUsedAmount').textContent = thisMonth.toLocaleString() + 'ì›';
        }

        // ì•Œë¦¼ ë¡œë“œ
        function loadNotifications() {
            const dummyNotifications = [
                {
                    id: 1,
                    title: 'ë°”ìš°ì²˜ ìŠ¹ì¸ ì•Œë¦¼',
                    message: 'ë””ì§€í„¸ ìŠ¤í‚¬ ì—…ê·¸ë ˆì´ë“œ ë°”ìš°ì²˜ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.',
                    date: '2024-01-15',
                    isRead: false,
                    type: 'approval'
                },
                {
                    id: 2,
                    title: 'ë§Œë£Œ ì˜ˆì • ì•Œë¦¼',
                    message: 'ê±´ê°•ê´€ë¦¬ ë°”ìš°ì²˜ê°€ 7ì¼ í›„ ë§Œë£Œë©ë‹ˆë‹¤.',
                    date: '2024-01-10',
                    isRead: false,
                    type: 'expiry'
                },
                {
                    id: 3,
                    title: 'ìƒˆë¡œìš´ ì‚¬ì—… ì•ˆë‚´',
                    message: 'ìƒˆë¡œìš´ ë°”ìš°ì²˜ ì‚¬ì—…ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.',
                    date: '2024-01-05',
                    isRead: true,
                    type: 'info'
                }
            ];
            
            displayNotifications(dummyNotifications);
        }

        // ì•Œë¦¼ í‘œì‹œ
        function displayNotifications(notifications) {
            const list = document.getElementById('notificationsList');
            list.innerHTML = notifications.map(notification => `
                <div class="notification-item ${notification.isRead ? 'read' : 'unread'}">
                    <div class="notification-icon">
                        ${getNotificationIcon(notification.type)}
                    </div>
                    <div class="notification-content">
                        <h4>${notification.title}</h4>
                        <p>${notification.message}</p>
                        <span class="notification-date">${notification.date}</span>
                    </div>
                    ${!notification.isRead ? 
                        `<button class="mark-read-btn" onclick="markAsRead(${notification.id})">ì½ìŒ</button>` : 
                        ''
                    }
                </div>
            `).join('');
        }

        // ì•Œë¦¼ ì•„ì´ì½˜ ë°˜í™˜
        function getNotificationIcon(type) {
            const icons = {
                'approval': 'âœ…',
                'expiry': 'âš ï¸',
                'info': 'â„¹ï¸'
            };
            return icons[type] || 'ğŸ“¢';
        }

        // íƒ­ ì „í™˜
        function showTab(tabName) {
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.classList.add('active');
            document.getElementById(`${tabName}-content`).classList.add('active');
        }

        // ë°”ìš°ì²˜ ì‚¬ìš©
        function useVoucher(voucherId) {
            if (confirm('ë°”ìš°ì²˜ë¥¼ ì‚¬ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                alert('ë°”ìš°ì²˜ ì‚¬ìš© í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                // ì‹¤ì œë¡œëŠ” ë°”ìš°ì²˜ ì‚¬ìš© í˜ì´ì§€ë¡œ ì´ë™
            }
        }

        // ì‹ ì²­ ë‚´ì—­ í•„í„°ë§
        function filterApplications() {
            const statusFilter = document.getElementById('applicationStatusFilter').value;
            // í•„í„°ë§ ë¡œì§ êµ¬í˜„
        }

        // ì‚¬ìš© ë‚´ì—­ í•„í„°ë§
        function filterUsageHistory() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            // ë‚ ì§œ í•„í„°ë§ ë¡œì§ êµ¬í˜„
        }

        // ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬
        function markAsRead(notificationId) {
            // ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬ ë¡œì§
            alert('ì•Œë¦¼ì„ ì½ìŒ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.');
        }

        // ëª¨ë“  ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬
        function markAllAsRead() {
            if (confirm('ëª¨ë“  ì•Œë¦¼ì„ ì½ìŒ ì²˜ë¦¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                alert('ëª¨ë“  ì•Œë¦¼ì„ ì½ìŒ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // í”„ë¡œí•„ ìˆ˜ì •
        function editProfile() {
            showTab('settings');
        }

        // í”„ë¡œí•„ ì—…ë°ì´íŠ¸
        function updateProfile() {
            const name = document.getElementById('userNameInput').value;
            const email = document.getElementById('userEmailInput').value;
            const phone = document.getElementById('userPhoneInput').value;
            
            if (!name || !email) {
                alert('ì´ë¦„ê³¼ ì´ë©”ì¼ì€ í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.');
                return;
            }
            
            // í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ë¡œì§
            alert('í”„ë¡œí•„ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        // ì•Œë¦¼ ì„¤ì • ì—…ë°ì´íŠ¸
        function updateNotificationSettings() {
            alert('ì•Œë¦¼ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
        function changePassword() {
            alert('ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
        }

        // ê³„ì • ì‚­ì œ
        function deleteAccount() {
            if (confirm('ì •ë§ë¡œ ê³„ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
                alert('ê³„ì • ì‚­ì œ ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ìƒˆë¡œ ì‹ ì²­í•˜ê¸°
        function goToApply() {
            window.location.href = '/apply';
        }

        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            
            if (mobileMenu.classList.contains('active')) {
                closeMobileMenu();
            } else {
                mobileMenu.classList.add('active');
                hamburger.classList.add('active');
            }
        }

        // ëª¨ë°”ì¼ ë©”ë‰´ ë‹«ê¸°
        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            
            mobileMenu.classList.remove('active');
            hamburger.classList.remove('active');
        }
    </script>
</body>
</html>
